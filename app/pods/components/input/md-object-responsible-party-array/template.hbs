<div class="panel panel-default box-shadow--8dp">
    <div class="panel-heading">
        <h3 class="panel-title">
            <a data-toggle="collapse" href="#{{panelId}}">{{label}}</a>
            <button type="button" id="{{panelId}}-btn" class="btn btn-xs btn-success pull-right md-button-hide"
                {{action "addResParty" model}}>
                <span class="fa fa-plus"></span> Add
            </button>
        </h3>
    </div>
    <div id="{{panelId}}" class="panel-collapse collapse">
        <div class="panel-body">
            <table class="table table-striped table-hover fadeIn">
                <thead>
                <th style="width: 5%">#</th>
                <th style="width: 60%">Contact</th>
                <th style="width: 25%">Role</th>
                <th style="width: 10%;"></th>
                </thead>
                <tbody>
                {{#each resPartyArray index="@index" as |partyObj index|}}
                    <tr>
                        <td>{{index}}</td>
                        <td>
                            {{input/md-input-object-single
                            value=partyObj.contactId
                            objectArray=contactList
                            valuePath="json.contactId"
                            namePath="combinedName"
                            placeholder="Select contact"}}
                        </td>
                        <td>
                            {{input/md-input-codelist-single
                            value=partyObj.role
                            mdCodeName="role"
                            placeholder="Select person or organization role"
                            create=true
                            tooltip=true}}
                        </td>
                        <td>
                            <button type="button" class="btn btn-xs btn-danger pull-right" {{action "deleteResParty" resPartyArray index}}>
                                <span class="fa fa-times"></span> Delete
                            </button>
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>
